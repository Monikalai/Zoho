#include<stdio.h>
void main() {
int n,i,j,k,t,z;
int a[50][50];
clrscr();
scanf("%d%d",&n,&z);
for(i=0;i<n;i++) {
  for(j=0;j<n;j++) {
     scanf("%d",&a[i][j]);
  }
}
while(z--) {
j=0;k=n-1;
while(j<k)  {
   t=a[j][j];
   for(i=j;i<k;i++) {
     a[i][j]=a[i+1][j];
   }
   for(i=j;i<k;i++) {
     a[k][i]=a[k][i+1];
   }
   for(i=k;i>j;i--) {
     a[i][k]=a[i-1][k];
   }
   for(i=k;i>j;i--) {
    a[j][i]=a[j][i-1];
   }
   a[j][i+1]=t;
   j++;
   k--;
}
}
for(i=0;i<n;i++) {
  for(j=0;j<n;j++) {
     printf("%d ",a[i][j]);
  }
  printf("\n");
}

getch();
}
